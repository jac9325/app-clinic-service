<div class="outer-box">
  <div class="inner-box">
    <h1><i class="fas fa-brackets"></i><b class="titulo">[PE] Clínica Code</b></h1>
    @if (!isLoggedIn){
    <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
      <div class="form-group">
        <label for="username">Usuario:</label>
        <div class="icon-box">
          <i class="fas fa-user"></i>
          <input type="text" id="usuario" class="form-control" name="username" [(ngModel)]="form.username" required
            #username="ngModel" placeholder="Ingresa tu usuario"
            [ngClass]="{ 'is-invalid': f.submitted && username.errors }">
        </div>
      </div>
      <div class="form-group">
        <label for="password">Contraseña:</label>
        <div class="icon-box">
          <i class="fas fa-lock"></i>
          <input 
          type="password" 
          class="form-control" 
          name="password" 
          [(ngModel)]="form.password" 
          required minlength="6"
          #password="ngModel" 
          placeholder="Ingresa tu contraseña"
          [ngClass]="{ 'is-invalid': f.submitted && password.errors }"          
          >
          
          
            <!--@if (password.errors && f.submitted) {
              <div class="invalid-feedback">
                @if (password.errors['required']) {
                <div>Password is required</div>
                }
                @if (password.errors['minlength']) {
                <div>la Contraseña debe ser mayor a 6 caracteres</div>
                }
              </div>
              }-->
        </div>
        @if (isLoginFailed) {
          <div>
            <p class="error-message">Error: Usuario o contraseña incorrectos</p>
          </div>
        }
      </div>
      <div class="remember">
        <input type="checkbox" id="remember" name="remember">
        <label for="remember">Recuérdame</label>
      </div>
      <button type="submit" class="btn btn-danger"><b>Ingresar</b></button>
    </form>
    }@else {
    <div class="alert alert-success">Logged in as {{ roles }}.</div>
    }

    <div class="forgot-password">
      <p><a routerLink="/recuperar_cuenta">¿Olvidó su Contraseña?</a></p>
    </div>
    <div class="create-account">
      <p>¿Aún no tienes una cuenta? <a routerLink="/registro">Crea una</a></p>
    </div>
  </div>
  <div class="image-box">
    <img src="../../../assets/MedicoLogin.png" alt="Imagen de Medico">
  </div>
</div>